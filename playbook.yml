---
- name: Vagrant Ansible Sample
  hosts: all
  user: vagrant
  vars:
    nodejs_npm_global_packages:
      - name: jslint
      - name: node-sass
      - name: phantomjs

  tasks:
    - name: download .zshrc
      get_url:
        url: https://gist.githubusercontent.com/naofumi-fujii/ae6438dedd669e067f22464742c047fe/raw/59e5116ebf05730e0b87c683b07ea1fe5314835c/.zshrc
        dest: /home/vagrant/.zshrc

    - name: download .vimrc
      get_url:
        url: https://raw.githubusercontent.com/naofumi-fujii/dotfiles/master/.vimrc
        dest: /home/vagrant/.vimrc

    - name: download .tmux.conf
      get_url:
        url: https://raw.githubusercontent.com/naofumi-fujii/dotfiles/master/.tmux.conf
        dest: /home/vagrant/.tmux.conf

    - name: install packages
      become: yes
      apt: name={{item}} update_cache=yes
      with_items:
        - git
        - build-essential
        - vim-gnome
        - fonts-ipafont
        - libmysqlclient-dev
        - libmagickwand-dev

  roles:
    - role: vaulttec.zsh
    - role: joshualund.golang
      become: yes
    - role: spitfast.rbenv
    - role: geerlingguy.nodejs
      become: yes
    - role: geerlingguy.mysql
      become: yes
